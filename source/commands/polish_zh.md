---
name: polish
description: 发货前的最终质量检查。修复对齐、间距、一致性和细节问题，将好与伟大分开。
args:
  - name: target
    description: 要抛光的功能或区域（可选）
    required: false
---

**首先**：使用 frontend-design 技能获取设计原则和反模式。

进行一丝不苟的最终检查，捕捉所有将好工作与伟大工作分开的小细节。发货与抛光之间的区别。

## 预抛光评估

理解当前状态和目标：

1. **审查完整性**：
   - 功能上完整吗？
   - 有已知要保留的问题吗？（用TODO标记）
   - 质量标准是什么？（MVP vs旗舰功能？）
   - 什么时候发货？（抛光有多少时间？）

2. **识别抛光区域**：
   - 视觉不一致
   - 间距和对齐问题
   - 交互状态差距
   - 副本不一致
   - 边缘情况和错误状态
   - 加载和过渡平滑性

**关键**：抛光是最后步骤，不是第一个。不要抛光功能上不完整的工作。

## 系统抛光

系统地处理这些维度：

### 视觉对齐和间距

- **像素完美对齐**：一切与网格对齐
- **一致间距**：所有间隙使用间距规模（无随机13px间隙）
- **光学对齐**：调整视觉权重（图标可能需要偏移以光学居中）
- **响应式一致**：间距和对齐在所有断点工作
- **网格遵守**：元素吸附到基线网格

**检查**：
- 启用网格覆盖并验证对齐
- 用浏览器检查器检查间距
- 在多个视口大小测试
- 寻找"感觉"不对的元素

### 排版细化

- **层次一致**：相同元素在整个过程中使用相同大小/权重
- **行长度**：正文文本45-75字符
- **行高**：适合字体大小和上下文
- **寡妇和孤儿**：最后一行无单个单词
- **连字符**：适合语言和列宽度
- **字距**：需要时调整字母间距（特别是标题）
- **字体加载**：无FOUT/FOIT闪烁

### 颜色和对比

- **对比率**：所有文本满足WCAG标准
- **一致令牌使用**：无硬编码颜色，都使用设计令牌
- **主题一致**：在所有主题变体中工作
- **颜色意义**：相同颜色在整个过程中意味着相同事物
- **可访问焦点**：焦点指示器可见，具有足够对比
- **着色中性色**：无纯灰或纯黑——添加微妙色彩色调（0.01色度）
- **颜色上的灰色**：绝不在彩色背景上放置灰色文本——使用该颜色的阴影或透明度

### 交互状态

每个交互元素需要所有状态：

- **默认**：休息状态
- **悬停**：微妙反馈（颜色、缩放、阴影）
- **焦点**：键盘焦点指示器（绝不移除而不替换）
- **活跃**：点击/点击反馈
- **禁用**：明显非交互
- **加载**：异步行动反馈
- **错误**：验证或错误状态
- **成功**：成功完成

**缺失状态创建混乱和破碎体验**。

### 微交互和过渡

- **平滑过渡**：所有状态变化适当动画（150-300ms）
- **一致缓动**：使用ease-out-quart/quint/expo自然减速。从不弹跳或弹性——感觉过时。
- **无卡顿**：60fps动画，仅动画变换和不透明度
- **适当运动**：运动服务目的，不是装饰
- **减少运动**：尊重`prefers-reduced-motion`

### 内容和副本

- **一致术语**：相同事物在整个过程中称为相同名称
- **一致大写**：标题大小写 vs 句子大小写一致应用
- **语法和拼写**：无拼写错误
- **适当长度**：不过多字，不太简短
- **标点一致**：句子有句号，不是标签（除非所有标签都有）

### 图标和图像

- **一致风格**：所有图标来自相同系列或匹配风格
- **适当调整大小**：图标为上下文一致调整大小
- **适当对齐**：图标与相邻文本光学对齐
- **替代文本**：所有图像有描述性替代文本
- **加载状态**：图像不导致布局偏移，适当纵横比
- **视网膜支持**：高DPI屏幕的2x资产

### 表单和输入

- **标签一致**：所有输入适当标记
- **必需指示器**：清晰和一致
- **错误消息**：有帮助和一致
- **制表顺序**：逻辑键盘导航
- **自动焦点**：适当（不要过度使用）
- **验证时间**：一致（模糊 vs 提交时）

### 边缘情况和错误状态

- **加载状态**：所有异步行动有加载反馈
- **空状态**：有帮助的空状态，不是空白空间
- **错误状态**：清晰错误消息与恢复路径
- **成功状态**：成功行动确认
- **长内容**：处理非常长的名称、描述等
- **无内容**：优雅处理缺失数据
- **离线**：适当离线处理（如果适用）

### 响应式

- **所有断点**：测试移动、平板、桌面
- **触摸目标**：触摸设备上44x44px最小
- **可读文本**：移动上无小于14px文本
- **无水平滚动**：内容适合视口
- **适当重排**：内容逻辑适应

### 性能

- **快速初始加载**：优化关键路径
- **无布局偏移**：元素在加载后不跳转（CLS）
- **平滑交互**：无延迟或卡顿
- **优化图像**：适当格式和大小
- **懒加载**：屏幕外内容懒加载

### 代码质量

- **移除控制台日志**：生产中无调试日志
- **移除注释代码**：清理死代码
- **移除未使用导入**：清理未使用依赖
- **一致命名**：变量和函数遵循约定
- **类型安全**：无TypeScript `any`或忽略错误
- **可访问性**：适当ARIA标签和语义HTML

## 抛光检查表

系统地进行：

- [ ] 所有断点视觉对齐完美
- [ ] 间距一致使用设计令牌
- [ ] 排版层次一致
- [ ] 所有交互状态实现
- [ ] 所有过渡平滑（60fps）
- [ ] 副本一致和抛光
- [ ] 图标一致和适当调整大小
- [ ] 所有表单适当标记和验证
- [ ] 错误状态有帮助
- [ ] 加载状态清晰
- [ ] 空状态受欢迎
- [ ] 触摸目标至少44x44px
- [ ] 对比率满足WCAG AA
- [ ] 键盘导航工作
- [ ] 焦点指示器可见
- [ ] 无控制台错误或警告
- [ ] 加载时无布局偏移
- [ ] 在所有支持浏览器工作
- [ ] 尊重减少运动偏好
- [ ] 代码干净（无TODO、console.logs、注释代码）

**重要**：抛光关于细节。放大。眯眼看。自己使用它。小事情加起来。

**绝不**：
- 在功能完整前抛光
- 如果30分钟内发货，花小时抛光（分诊）
- 在抛光时引入bug（彻底测试）
- 忽略系统问题（如果到处间距不对，修复系统）
- 完美一件事同时留下其他粗糙（一致质量水平）

## 最终验证

标记完成前：

- **自己使用**：实际与功能交互
- **在真实设备测试**：不仅仅浏览器DevTools
- **请别人审查**：新鲜眼睛捕捉东西
- **与设计比较**：匹配预期设计
- **检查所有状态**：不要只测试快乐路径

记住：你有无可挑剔的细节关注和精致品味。抛光直到感觉轻松，看起来有意，完美工作。出汗细节 - 它们重要。