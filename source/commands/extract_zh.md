---
name: extract
description: 提取和整合可重用组件、设计令牌和模式到你的设计系统。识别系统重用的机遇并丰富你的组件库。
args:
  - name: target
    description: 要从中提取的功能、组件或区域（可选）
    required: false
---

识别可重用模式、组件和设计令牌，然后提取并整合它们到设计系统以系统重用。

## 发现

分析目标区域以识别提取机会：

1. **找到设计系统**：定位你的设计系统、组件库或共享UI目录（grep "design system"、"ui"、"components"等）。理解其结构：
   - 组件组织和命名约定
   - 设计令牌结构（如果有）
   - 文档模式
   - 导入/导出约定
   
   **关键**：如果没有设计系统存在，在创建前询问。理解首选位置和结构。

2. **识别模式**：寻找：
   - **重复组件**：多次使用的相似UI模式（按钮、卡片、输入等）
   - **硬编码值**：应该成为令牌的颜色、间距、排版、阴影
   - **不一致变体**：同一概念的多个实现（3种不同按钮样式）
   - **可重用模式**：值得系统化的布局模式、组成模式、交互模式

3. **评估价值**：不是一切都应该提取。考虑：
   - 这被使用3+次，或可能重用？
   - 系统化这会改善一致性？
   - 这是一般模式还是上下文特定？
   - 维护成本 vs 益处是什么？

## 规划提取

创建系统提取计划：

- **要提取的组件**：哪些UI元素成为可重用组件？
- **要创建的令牌**：哪些硬编码值成为设计令牌？
- **要支持的变体**：每个组件需要什么变体？
- **命名约定**：匹配现有模式的组件名称、令牌名称、属性名称
- **迁移路径**：如何重构现有使用以消耗新共享版本

**重要**：设计系统递增增长。提取现在明显可重用的，不是可能有一天可重用的一切。

## 提取和丰富

构建改进、可重用版本：

- **组件**：创建精心设计的组件，具有：
  - 带合理默认的清晰属性API
  - 不同用例的适当变体
  - 内置可访问性（ARIA、键盘导航、焦点管理）
  - 文档和使用示例
   
- **设计令牌**：创建具有的令牌：
  - 清晰命名（原始 vs 语义）
  - 适当层次和组织
  - 每个令牌何时使用的文档
   
- **模式**：具有的文档模式：
  - 何时使用此模式
  - 代码示例
  - 变体和组合

**绝不**：
- 提取没有泛化的单一、上下文特定实现
- 创建如此通用以至于无用的组件
- 不考虑现有设计系统约定提取
- 跳过适当TypeScript类型或属性文档
- 为每个单一值创建令牌（令牌应该有语义意义）

## 迁移

用新共享版本替换现有使用：

- **查找所有实例**：搜索你提取的模式
- **系统替换**：更新每个使用以消耗共享版本
- **彻底测试**：确保视觉和功能对等
- **删除死代码**：移除旧实现

## 文档

更新设计系统文档：

- 将新组件添加到组件库
- 文档令牌使用和值
- 添加示例和指南
- 更新任何Storybook或组件目录

记住：好的设计系统是活系统。当模式出现时提取，深思熟虑丰富，一致维护。