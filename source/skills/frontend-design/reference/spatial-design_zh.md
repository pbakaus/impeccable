# 空间设计

## 间距系统

### 使用4pt基，不是8pt

8pt系统太粗糙——你会频繁需要12px（在8和16之间）。对粒度使用4pt：4、8、12、16、24、32、48、64、96px。

### 语义命名令牌

按关系命名（`--space-sm`、`--space-lg`），不是值（`--spacing-8`）。对兄弟间距使用 `gap` 而不是边距——它消除边距折叠和清理黑客。

## 网格系统

### 自调整网格

对无断点响应网格使用 `repeat(auto-fit, minmax(280px, 1fr))`。列至少280px，每行适合尽可能多，剩余拉伸。对复杂布局，使用命名网格区域（`grid-template-areas`）并在断点重新定义它们。

## 视觉层次

### 眯眼测试

模糊你的眼睛（或截图并模糊）。你仍然能识别：
- 最重要元素？
- 第二重要？
- 清晰分组？

如果一切模糊看起来相同权重，你有层次问题。

### 通过多个维度层次

不要只依赖大小。结合：

| 工具 | 强层次 | 弱层次 |
|------|--------|--------|
| **大小** | 3:1比例或更多 | <2:1比例 |
| **权重** | 粗体 vs 常规 | 中等 vs 常规 |
| **颜色** | 高对比 | 相似色调 |
| **位置** | 上/左（主要） | 下/右 |
| **空间** | 被空白包围 | 拥挤 |

**最佳层次同时使用2-3维度**：一个标题更大、更粗，并且上方有更多空间。

### 卡片不是必需的

卡片被过度使用。间距和对齐自然创造视觉分组。只有当内容真正独特和可行动、项目需要网格中视觉比较，或内容需要清晰交互边界时才使用卡片。**绝不在卡片内嵌套卡片**——对卡片内层次使用间距、排版和微妙分隔符。

## 容器查询

视口查询用于页面布局。**容器查询用于组件**：

```css
.card-container {
  container-type: inline-size;
}

.card {
  display: grid;
  gap: var(--space-md);
}

/* 卡片布局基于其容器变化，不是视口 */
@container (min-width: 400px) {
  .card {
    grid-template-columns: 120px 1fr;
  }
}
```

**为什么重要**：侧边栏窄中的卡片保持紧凑，而主内容区域中相同卡片扩展——自动，没有视口黑客。

## 光学调整

`margin-left: 0` 的文本由于字母形式空白看起来缩进——使用负边距（`-0.05em`）光学对齐。几何居中的图标经常看起来偏离中心；播放图标需要右移，箭头朝其方向移。

### 触摸目标 vs 视觉大小

按钮可以看起来小但需要大触摸目标（44px最小）。使用填充或伪元素：

```css
.icon-button {
  width: 24px;  /* 视觉大小 */
  height: 24px;
  position: relative;
}

.icon-button::before {
  content: '';
  position: absolute;
  inset: -10px;  /* 扩展点击目标到44px */
}
```

## 深度和高度

创建语义z-index规模（下拉 → 粘性 → 模态背景 → 模态 → 吐司 → 工具提示）而不是任意数字。对阴影，创建一致高度规模（sm → md → lg → xl）。**关键洞察**：阴影应该微妙——如果你能清楚看到它，它可能太强。

---

**避免**：超出你的规模的任意间距值。使所有间距相等（多样性创造层次）。仅通过大小创造层次 - 结合大小、权重、颜色和空间。